(()=>{"use strict";var e={d:(t,o)=>{for(var d in o)e.o(o,d)&&!e.o(t,d)&&Object.defineProperty(t,d,{enumerable:!0,get:o[d]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{MP:()=>y,mj:()=>p});class t{constructor(e,t,o,d){this.name=e,this.dueDate=t,this.priority=o,this.description=d,this.checked=!1}check(){0==this.checked?this.checked=!0:this.checked=!1}}const o=document.querySelector("#new-todo"),d=document.querySelector("#todo-name"),c=document.querySelector("#todo-description"),n=document.querySelector("#todo-due-date"),r=document.querySelector("#todo-priority"),l=document.querySelector("#addTodo"),s=document.querySelector("#dialog-b");function i(){const e=document.querySelector(".projects");e.innerHTML="",p.forEach((t=>{let o=document.createElement("div");o.classList.add("project"),o.textContent=t.name,e.appendChild(o)}));const t=document.querySelector(".todos");t.innerHTML="";const a=document.createElement("div");a.classList.add("currentProject"),a.textContent=y.name,t.appendChild(a);const u=document.createElement("button");u.textContent="Delete Project",u.classList.add("delete-project"),t.appendChild(u),y.todoArray.forEach((e=>{let o=document.createElement("div");o.classList.add("todo"),o.classList.add(e.priority),o.innerHTML=`<input type="checkbox" class="checkbox">\n        <div class="name">${e.name}</div>\n        <div class="desc">${e.description}</div>\n        <div class="due">${e.dueDate}</div>\n        <svg class="edit-todo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4H13V9H18V12.1L20 10.1V8L14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H10V20M20.2 13C20.3 13 20.5 13.1 20.6 13.2L21.9 14.5C22.1 14.7 22.1 15.1 21.9 15.3L20.9 16.3L18.8 14.2L19.8 13.2C19.9 13.1 20 13 20.2 13M20.2 16.9L14.1 23H12V20.9L18.1 14.8L20.2 16.9Z" /></svg>\n        <svg class="delete-todo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z" /></svg>`,t.appendChild(o)})),function(){const e=document.querySelectorAll(".project");let t=0;e.forEach((e=>{e.id="project"+t,t++,e.addEventListener("click",(()=>{y=p[e.id.charAt(e.id.length-1)],i()}))}))}(),document.querySelector(".delete-project").addEventListener("click",(()=>{const e=p.indexOf(y);p.splice(e,1),i(),document.querySelector(".todos").innerHTML=""})),function(){const e=document.querySelectorAll(".delete-todo");let t=0;e.forEach((e=>{e.id="delete"+t,t++,e.addEventListener("click",(()=>{let t=e.id.charAt(e.id.length-1);y.todoArray.splice(t,1),i()}))}))}(),function(){const e=document.querySelectorAll(".edit-todo");let t=0;e.forEach((e=>{e.id="edit"+t,t++,e.addEventListener("click",(()=>{o.showModal();let t=e.id.charAt(e.id.length-1);s.textContent="Edit Todo",l.textContent="Edit Todo",d.value=y.todoArray[t].name,c.value=y.todoArray[t].description,n.value=y.todoArray[t].dueDate,r.value=y.todoArray[t].priority,y.todoArray.splice(t,1)}))}))}(),localStorage.setItem("savedData",JSON.stringify(p))}class a{constructor(e){this.name=e,this.todoArray=new Array}addTodo(e){this.todoArray.push(e)}}const u=new a("Default Project"),h=new t("Default Todo","2023-10-31","high","This is the default todo");let m=JSON.parse(localStorage.getItem("savedData")),p=m;console.log(JSON.stringify(p)),console.log(p.length),0==p.length&&(u.addTodo(h),p.push(u),console.log("empty"));let y=p[0];JSON.stringify(p)==JSON.stringify(m)&&console.log("same"),i(),function(){const e=document.querySelector("#new-project");document.querySelector(".sidebar > button").addEventListener("click",(()=>{e.showModal()}));const t=document.querySelector("#project-name");document.querySelector("#addProject").addEventListener("click",(()=>{p.push(new a(t.value)),i()}))}(),document.querySelector(".todo-btn").addEventListener("click",(()=>{o.showModal(),s.textContent="New Todo",l.textContent="Add New Todo"})),l.addEventListener("click",(()=>{y.todoArray.push(new t(d.value,n.value,r.value,c.value)),i()}))})();